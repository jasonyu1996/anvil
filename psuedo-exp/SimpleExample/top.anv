channel ch
{
    signal_t type;
    left wire a<0|->ch?req>;
    right wire b<0|->ch?req>, c<0|->ch?req>;
    
}
proc example(ch)
{
    reg temp,b,c;
    ch?in=>
         
            tock;
            temp:=in.a;
            b::=temp<0|->(tock|ch?req)>;
            c::=b<0|->(tock|ch?req)>;
            ch!{res,.b(b),.c(c<0|->ch>req>)};
        
    then
}