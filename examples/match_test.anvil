proc match_test () =
    reg cycle_counter : logic[4]

    loop{
        set cycle_counter := *cycle_counter + 4'd1
    }
    loop{
        match *cycle_counter with:
        |> 4'd1 -> dprint "This is first cycle" ()
        |> 4'd2 -> dprint "This is the second cycle" ()
        |> _ -> dprint "More than 2 cycles have passed" ()
        done;
        cycle 1
    }